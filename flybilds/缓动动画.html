<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}
			#box {
				width: 100px;
				height: 100px;
				background-color: yellow;
				position: absolute;
				/*left: 400px;*/
			}
		</style>
	</head>
	<body>
		<button id="btn">开始</button>
		<div id="box">
			
		</div>
		<script type="text/javascript">
			//缓动动画:
			//step = (target - leader) / 10;
			//leader = leader + step;
		//复习匀速动画
		var timer = null;
			var btn = document.getElementById("btn");
			var box = document.getElementById("box");
			btn.onclick = function(){
				clearInterval(timer);
				timer = setInterval(function(){
				//当前位置 = 当前位置 + 步长
					//leader = leader + step  匀速动画
					//step = (target - leader) / 10;
					//var leader = box.offsetLeft;
					//var step = 5;
					//var step = (target-leader) / 10;
					var leader = box.offsetLeft;
					var target = 400;
			//程序不会停止，因为box的盒子offsetLeft位置取值是也是就近取整
					var step = (target-leader) / 10;
					//step = Math.ceil(step);//往右走，，向上取整，将数值重新赋给step
					//step = Math.floor(step);
					step > 0? Math.ceil(step):Math.floor(step);
			//看一下变化过程
					console.log("target" + target + "leader" + leader);
					leader = leader + step;
					box.style.left = leader + "px";
					if(leader === target){
						clearInterval(timer);
					}
				},15);

			};
			btn.onclick = function(){
				timer = setInterval(function(){
					var leader = box.offsetLeft;
					step = (target - leader) / 10;
					step = step> 0?Math.ceil(step):Math.floor(step);
					leader = leader + step;
					box.style.left = leader + "px";
					if(leader === target){
						clearInterval(timer);
					}
				};15)
			};
		</script>
	</body>
</html>
